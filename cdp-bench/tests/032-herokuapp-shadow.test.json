{
  "id": "032-herokuapp-shadow",
  "url": "https://the-internet.herokuapp.com/shadowdom",
  "category": "read",
  "difficulty": "hard",
  "stability": "stable",
  "task": "This page uses Web Components with Shadow DOM. Find all custom elements that have open shadow roots. Access each shadow root and extract the text content rendered inside. Also find any slotted content. Report what text you find inside each shadow root versus in the light DOM. You must use element.shadowRoot to reach shadow content â€” standard querySelector won't find elements inside shadow boundaries.",
  "milestones": [
    {
      "id": "page_loaded",
      "weight": 0.15,
      "verify": { "dom_exists": "#content" }
    },
    {
      "id": "shadow_hosts_found",
      "weight": 0.35,
      "verify": { "eval_truthy": "Array.from(document.querySelectorAll('#content *')).filter(el => el.shadowRoot).length >= 1" }
    },
    {
      "id": "shadow_content_read",
      "weight": 0.5,
      "verify": { "eval_truthy": "Array.from(document.querySelectorAll('#content *')).filter(el => el.shadowRoot).every(el => el.shadowRoot.innerHTML.length > 10)" }
    }
  ],
  "budget": { "maxSteps": 15, "maxTimeMs": 60000 }
}
